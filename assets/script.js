// Assignment Code
var generateBtn = document.querySelector("#generate");
var uppercaseCharacters = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"];
var lowercaseCharacters = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"];
var numericCharacters = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9"];
var specialCharacters = ["`", "~", "!", "@", "#", "$", "%", "^", "&", "*", "(", ")", "_", "<", ">", "?", "+", "-", ",", "=", ":", "/", '.', "[", "]", "|", "{", "}"];
var passwordText = document.querySelector("#password");

// Write password to the #password input
function writePassword() {
  var password = generatePassword();
  
  // declare generatePassword function
  function generatePassword() {
    var chosenArrays = [];
    var generatedPassword = "";
    
    // makes a window prompt that asks for the length of password and a variable that stores the answer
    var userLengthChoice = window.prompt("How many characters long do you want your password?");
    
    // if statment that either takes the number they choose,  or denies if, answer is not a number or <8 or >128
    if (userLengthChoice >= 8 && userLengthChoice <= 128) {
      userLengthChoice = userLengthChoice
      
      // if statment for if user presses cancel it ends the function
    } else if (!userLengthChoice) {
      return;
    } else if (isNaN(userLengthChoice)) {
      window.alert("Your password length must be a number.");
      generatePassword();
    } else {
      window.alert("Your password length must be at least 8 characters and at most 128 characters.");
      generatePassword();
    }

    console.log(userLengthChoice);

    // makes a confirm prompt for whether or not to include uppercase and variable that stores the answer
    var userUppercaseChoice = window.confirm("Would you like to include uppercase letters?");

    console.log(userUppercaseChoice);

    // makes a confirm prompt for whether or not to include lowercase and variable that stores the answer 

    var userLowercaseChoice = window.confirm("Would you like to include lowercase letters?");

    console.log(userLowercaseChoice);

    // // makes a confirm prompt for whether or not to include numbers and variable that stores the answer

    var userNumbersChoice = window.confirm("Would you like to include numbers?");

    console.log(userNumbersChoice);

    // // makes a confirm prompt for whether or not to include spcial characters and variable that stores the answer

    var userSpecialChoice = window.confirm("Would you like to include special characters?");

    console.log(userSpecialChoice);

    // // make an alert that tells you to need to pick at least one of the arrays and them returns the the beggining of prompts
    if (!userUppercaseChoice && !userLowercaseChoice && !userNumbersChoice && !userSpecialChoice) {
      window.alert("You much confirm at least one of the criteria previously listed.");
      generatePassword();
    }


    // if statements to pull the correct comboination of array info into chosenArrays array
    if (userUppercaseChoice === true) {
      chosenArrays = chosenArrays.concat(uppercaseCharacters);
    }

    if (userLowercaseChoice === true) {
      chosenArrays = chosenArrays.concat(lowercaseCharacters);
    }

    if (userNumbersChoice === true) {
      chosenArrays = chosenArrays.concat(numericCharacters);
    }

    if (userSpecialChoice === true) {
      chosenArrays = chosenArrays.concat(specialCharacters);
    }

    console.log(chosenArrays)

    // for loop that takes length the user inputs, micks a ransom index within the array generated by the users answers adn generates password
    for (var i = 0; i < userLengthChoice; i++) {
      var index = Math.floor(Math.random() * chosenArrays.length);
      var chosenIndex = chosenArrays[index];
      generatedPassword += chosenIndex;
    }

    console.log(generatedPassword)

    // changes the text in the html from Your Secure Password to you new randomly generated password
    passwordText.textContent = generatedPassword;
  }
}
// Add event listener to generate button
generateBtn.addEventListener("click", writePassword);
